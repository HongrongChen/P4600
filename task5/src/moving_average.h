float moving_average(float* data,int length,int window,float* smoothdata);